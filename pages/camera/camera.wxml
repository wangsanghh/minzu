
<view class="container">
  
  <view class="camera-container">
    <view class="camera-placeholder">
      <icon type="camera" size="60" color="#1E90FF"></icon>
      <text class="placeholder-text">上传图片识别民族服饰</text>
    </view>
    <view class="button-group">
      <button class="upload-button" bindtap="chooseImage">上传图片识别</button>
      <button class="history-button" bindtap="toggleHistory">
        {{ showHistory ? '隐藏历史' : '查看历史' }}
      </button>
    </view>
  </view>
  
  <!-- 历史记录列表 -->
  <view class="history-container" wx:if="{{showHistory}}">
    <view class="history-header">
      <text class="history-title">历史记录 ({{historyRecords.length}})</text>
      <button class="clear-button" bindtap="clearHistory" wx:if="{{historyRecords.length > 0}}">清除全部</button>
    </view>
    
    <view class="history-list" wx:if="{{historyRecords.length > 0}}">
      <block wx:for="{{historyRecords}}" wx:key="id">
        <view class="history-item" bindtap="onHistoryItemTap" data-index="{{index}}">
          <image class="history-image" src="{{item.image}}" mode="aspectFill"></image>
          <view class="history-info">
            <text class="history-nation">{{item.nation}}</text>
            <text class="history-confidence">置信度: {{item.confidence}}%</text>
            <text class="history-time">{{item.time}}</text>
          </view>
          <text class="history-arrow">></text>
        </view>
      </block>
    </view>
    
    <view class="empty-history" wx:else>
      <text class="empty-text">暂无历史记录</text>
    </view>
  </view>
  
  <!-- 显示上传的图片 -->
  <view class="uploaded-image-container" wx:if="{{uploadedImage}}">
    <text class="uploaded-title">上传的图片</text>
    <image class="uploaded-image" src="{{uploadedImage}}" mode="aspectFit"></image>
  </view>
  
  <!-- 识别结果 -->
  <view class="result-container" wx:if="{{result}}">
    <text class="result-title">识别结果</text>
    <view class="result-content">
      <view class="result-info">
        <text class="nation-name">{{result.nation}}</text>
        <text class="confidence">置信度: {{result.confidence}}%</text>
      </view>
    </view>
  </view>
</view>