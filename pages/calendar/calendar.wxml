<!-- 日历页面 -->
<view class="container">
  <!-- 顶部导航栏 -->
  <view class="nav-bar">
    <view class="nav-back">
      <button class="back-button" bindtap="navigateBack">
        <icon type="arrow-left" size="20" color="white"/>
      </button>
    </view>
    <text class="nav-title">中华民族节日日历</text>
    <view style="width: 40rpx;"></view> <!-- 用于保持标题居中 -->
  </view>

  <view class="calendar-navigation">
    <button class="nav-button" bindtap="prevMonth">上一月</button>
    <text class="month">{{currentYear}}年{{currentMonth}}月</text>
    <button class="nav-button" bindtap="nextMonth">下一月</button>
  </view>
  
  <view class="weekdays">
    <text class="weekday">日</text>
    <text class="weekday">一</text>
    <text class="weekday">二</text>
    <text class="weekday">三</text>
    <text class="weekday">四</text>
    <text class="weekday">五</text>
    <text class="weekday">六</text>
  </view>
  
  <view class="calendar-grid">
    <block wx:for="{{calendarDays}}" wx:key="index">
      <view 
        class="calendar-day {{item.isToday ? 'today' : ''}} {{item.hasEvent ? 'has-event' : ''}}" 
        data-date="{{item.date}}"
        data-event="{{item.eventInfo}}"
        bindtap="onDayTap"
      >
        <text class="day-number">{{item.day}}</text>
        <text class="event-marker" wx:if="{{item.hasEvent}}">●</text>
      </view>
    </block>
  </view>
  
  <!-- 节日详情显示区域 -->
  <view class="event-details" wx:if="{{selectedEvent}}">
    <text class="event-title">{{selectedEvent.title}}</text>
    <text class="event-date">{{selectedEvent.date}}</text>
    <text class="event-description">{{selectedEvent.description}}</text>
    <button class="detail-button" bindtap="getFestivalDetails" disabled="{{isLoading}}">{{isLoading ? '获取中...' : '获取详细信息'}}</button>
    
    <!-- 加载状态显示 -->
    <view class="loading" wx:if="{{isLoading}}">
      <text class="loading-text">正在获取节日详情...</text>
    </view>
    
    <!-- 节日详细信息显示 -->
    <view wx:if="{{festivalDetail}}" class="festival-detail-container">
      <view class="detail-section">
        <text class="section-title">节日起源</text>
        <text class="section-content">{{originContent}}</text>
      </view>
      
      <view class="detail-section">
        <text class="section-title">节日活动</text>
        <text class="section-content">{{activityContent}}</text>
      </view>
    </view>
  </view>
</view>